var shoppingListUI={ingredients:new ToGets,initialize:function(){shoppingListUI.ingredients.fetch(),shoppingListUI.printIngredients(),shoppingListUI.addListeners()},refreshListeners:function(){shoppingListUI.removeListeners(),shoppingListUI.addListeners()},removeListeners:function(){$("#shopping-list .unchecked li").off("click",shoppingListUI.uncheckClickHand),$("#shopping-list .checked li").off("click",shoppingListUI.checkedClickHand),$("#clear-btn").off("click",shoppingListUI.clearHand)},addListeners:function(){$("#shopping-list .unchecked li").on("click",shoppingListUI.uncheckClickHand),$("#shopping-list .checked li").on("click",shoppingListUI.checkedClickHand),$("#clear-btn").on("click",shoppingListUI.clearHand)},clearAllChecked:function(){for(var a=$("#shopping-list .checked li").length-1;a>=0;){var b=$("#shopping-list .checked li")[a],c=shoppingListUI.ingredients.get($(b).attr("data-id"));c.destroy(),a--}$("#clear-btn").hide(),$("#shopping-list .checked").empty(),0==$("#shopping-list .unchecked li").length&&shoppingListUI.appendDoneList()},printIngredients:function(){var a=document.createDocumentFragment();if(shoppingListUI.ingredients.length>0){var b=shoppingListUI.ingredients.where({checked:!1}),c=shoppingListUI.ingredients.where({checked:!0});a.appendChild(shoppingListUI.makeIngredientList(b,"unchecked")),a.appendChild(shoppingListUI.makeClearAllButton()),a.appendChild(shoppingListUI.makeIngredientList(c,"checked"))}else shoppingListUI.appendEmptyList(a);$("#shopping-list").html(a),shoppingListUI.updateClearAllButton()},makeIngredientList:function(a,b){var c=document.createElement("ul");c.className=b;for(var d=0;d<a.length;d++){var e=a[d],f=new IngredientView({id:e.cid,title:e.get("title")});c.appendChild(f.render().el)}return c},appendEmptyList:function(a){var b=document.createElement("h1"),c=document.createElement("p");b.innerHTML="This list is empty",c.innerHTML="There is no ingredients on your list, browser some recipes and select some ingredients to add some.",a.appendChild(b),a.appendChild(c)},appendDoneList:function(){var a=document.createDocumentFragment(),b=document.createElement("h1"),c=document.createElement("p");b.innerHTML="Done!",c.innerHTML="Oh, so proud of you!",a.appendChild(b),a.appendChild(c),$("#shopping-list").html(a)},makeClearAllButton:function(){var a=document.createElement("button");return a.id="clear-btn",a.innerHTML="Clear Checked",a},updateClearAllButton:function(){!$("#shopping-list .checked li").length>0?$("#clear-btn").hide():$("#clear-btn").show()},uncheckClickHand:function(){var a=shoppingListUI.ingredients.get($(this).attr("data-id"));a.set("checked",!0),a.save(),$(this).prependTo(".checked"),shoppingListUI.updateClearAllButton(),shoppingListUI.refreshListeners()},checkedClickHand:function(){var a=shoppingListUI.ingredients.get($(this).attr("data-id"));a.set("checked",!1),a.save(),$(this).prependTo(".unchecked"),shoppingListUI.updateClearAllButton(),shoppingListUI.refreshListeners()},clearHand:function(){shoppingListUI.clearAllChecked()}};$(document).ready(shoppingListUI.initialize);